redis给缓存数据设置过期时间，因为内存是有限的，且根据缓存的业务需求，有些内容需要定时更换，比如用户的登录验证码，一般在几分钟内是可用的，通过过期时间来实现验证码的过期失效功能

redis内部是通过一个过期字典来保存数据的过期时间，过期字典的键指向redis数据库中的某个key，过期时间的值是一个long long类型的整数，这个整数保存了key所指向的数据库键的过期时间，毫秒精度的unix时间戳

过期数据的删除策略：

1.惰性删除：只会在取出key的时候才对数据进行过期检查，这样对cpu最好，但是可能会存在太多过期的key没有删除

2.定期删除：每隔一段时间抽取一批key执行删除过期key的操作，且redis底层会通过限制删除操作执行的时长和频率来减少删除操作对CPU时间的影响

可以看出仅仅通过惰性删除和定期删除是没有办法完全解决内存中存留部分过期key的情况，所以在极端情况下，还会有oom的风险

redis内存淘汰策略：

1.volatile-lru（least recently used）：从已设置过期时间的数据集中挑选最近最少使用的数据淘汰

2.volatile-ttl：从已设置过期时间的数据集中挑选将要过期的数据淘汰

3.volatile-random：从已设置过期时间的数据集中任意选择数据进行淘汰

4.volatile-lfu：从已设置过期时间的数据集中挑选最不经常使用的数据淘汰

5.allkeys-lru：当内存不足以写入新数据时，在键空间中，移除最近最少使用的key。这个是最常用的

6.allkeys-lfu：当内存不足以写入新数据时，在键空间中，移除最不经常使用的key

7.allkeys-random：从数据集中任意选择数据淘汰

8.no-eviction：禁止淘汰，当内存中不足以写入新数据的时候，直接报错

